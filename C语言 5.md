# C语言第六节&第七节

***

## 语法错误


1. 变量未被定义

```
error: 'a' undeclared
```


2. 语句后缺少分号 `;`

 ``` 
 error: expected "," or ";" before...
 ```


3. 忘记包含所需要的库函数头文件

``` c
#include <stdio.h>
#include <stdlib.h>
```

4. 忘记乘法运算符`*`

```c
a = 3b
```

5. **字符串**两边的 `""` 未成对出现
6. 花括号 `{}` 不配对
7. 小括号 `()` 不配对
## 运行时错误

编译器编译时不违法，但运行时计算机报错

（数学表达式无意义）

## 未检测到的错误

1. "scanf" 和 "printf" 的占位符类型与数据不统一

```
float <---> %f
int <---> %d
```

2. 赋值给变量时数据超出变量类型的取值范围

|    byte    |     short      |               int               |      long      |      char       |
| :--------: | :------------: | :-----------------------------: | :------------: | :-------------: |
| -128 ~ 127 | -32768 ~ 32767 | - 2,147,483,648 ~ 2,147,483,647 | -2^63 ~ 2^63-1 | \u0000 ~ \uffff |

3. "scanf" 中忘记使用变量的取地址符号 `&`

```c
scanf("%d%d",a,b)
```

4. 运行程序时输入数据的方式与"scanf"中要求的输入格式不一致

5. 整数除法导致的变量类型与数据不一致（使用浮点数表示运算结果）

``` c
#include <stdio.h>

int main()
{
    int a,b;
    scanf("%d",&a);
    b = 5/9*a;
    printf("%d,%d\n",a,b);
    return 0;
}
```

```
input 9
output 9,0
//a = 9,b = 0
```

## 逻辑错误

逻辑错误是指不正确的算法导致的，符合语法和逻辑，因此较难debug

制定一份完善的测试方案，设计包括所有可能情况的测试用例，通过 **程序调试** 与用例比对

**设置断点** 来一步一步调试

***

# **C语言编程基础**

## 数据类型

![数据类型](https://github.com/DrADCalcium/C-language-intro/blob/main/C%E8%AF%AD%E8%A8%80%E9%85%8D%E5%9B%BE/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.png?raw=true)

### 基本数据类型

**整型** : 

![整型数据类型](https://github.com/DrADCalcium/C-language-intro/blob/main/C%E8%AF%AD%E8%A8%80%E9%85%8D%E5%9B%BE/%E6%95%B4%E5%9E%8B%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.png?raw=true)

**长整型** : 数字后加 `L`

> `123L `
>
> `123l`

**八进制** : 数字前加 `0`

> `0567`

**十六进制** : 数字前加 `0x`

> `0x12fd`
>
> `0X12fd`

**二级制在计算机中存储常用四位存储法**

**实型** : 

![实型数据类型](https://github.com/DrADCalcium/C-language-intro/blob/main/C%E8%AF%AD%E8%A8%80%E9%85%8D%E5%9B%BE/%E5%AE%9E%E5%9E%8B%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.png?raw=true)

$$
1234.5=1.2345E3=1.2345×10^3
$$
*`E`与后面的数字表示10的次方（科学计数法表示）*

### 构造数据类型

利用现有的一个或多个数据类型构造新的数据类型

> a[2] = 4
>
> a[4] = 9

![构造数据类型](https://github.com/DrADCalcium/C-language-intro/blob/main/C%E8%AF%AD%E8%A8%80%E9%85%8D%E5%9B%BE/%E6%9E%84%E9%80%A0%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.png?raw=true)

***

## 变量

程序执行过程中,其值可以改变的量称为变量

### 定义变量

数据类型+变量名1,变量名2,变量名3......;

```c
int a,b,c;
float x;
```

*有时规范要求为每个变量定义单独一行*

```c
int a;
int b;
int c;
float x;
```

[ 例3.2 ]

```c
int main()
{
    int a,b;//定义两个整型变量
    float f1,f2;//定义两个单精度实型变量
    double d1,d2;//定义两个双精度实型变量
    char c1,c2;//定义两个字符型变量
}
```

***变量命名必须遵守标识符的规则 :***

+ C语言规定，标识符只能由 **字母、数字和下划线** 3种字符组成，而且第1个字符必须为 **字母** 或 **下划线** 
+ 不能使用C语言的 **保留字**

> 合法：max、min、a、b3、Student、_1_2_3
>
> 不合法：3abc、M.D.John、!eer、abc?d

### 变量赋初值

让变量获得初值。

如果变量未赋初值，那么其值为无意义的数据。

变量没有赋值就参与运算，会得到错误结果。

**两种方式** ：

1. 初始化
2. 赋值

#### 初始化

在定义变量的同时给变量赋初值，也叫做 **初始化**

```c
int main()
{
    int a = 3,b = 4;
    float f1 = 4.5,f2 = 9;
    double d1 = 100.8,d2 = 10.09;
}
```

### 赋值

在定义变量后，再进行 **赋值**

```c
int main()
{
    int a,b;
    float f1,f2;
    double d1,d2;
    a = 3;
    b = 4;
    f1 = 4.5;
    f2 = 9;
    d1 = 100.8;
    d2 = 10.09;
}
```

***

## 常量

程序执行过程中，其值不能改变的量称为常量。

常量分为：

+ 字面常量
+ 符号常量
+ const常量

### 字面常量

程序中直接书写的数据常量

> `z = x/2+y*3`
>
> `c = 5.67*e-0.78/f`

### 符号常量

符号常量用一个标识符代表一个常量，太宰使用之前必须先定义

> `#define 标识符 常量`
>
> `#define aaa 3`

`#define`是一条预处理指令,称为宏定义,它把标识符定义为常量

【例3.5】符号常量的定义和使用

```c
#define PI 3.14
#define R 5
#include <stdio.h>

void main()
{
    float area,l;
    l = 2*PI*R;
    area = PI*R*R;
    printf("l = %f,area = %f\n",l,area);
}
```

运行结果 : `l = 31.400000,area = 78.500000`

### const常量

使用关键字const定义的常量叫做const常量，是制度常量，不能修改值。

> `const 类型修饰符 变量修饰符 = 初始化数据`
>
> `类型修饰符 const 变量修饰符 = 初始化数据`
>
> `const float PI = 3.14`
>
> `float const R = 5`

【例3.6】const常量的定义和使用

```c
#include <stdio.h>

void main()
{
    const float PI = 3.14;
    int const R = 5;
    float area,l;
    PI = 3.14159;//此语句有问题,const变量PI不能被赋值
    l = 2*PI*R;
    area = PI*R*R;
    printf("l = %f,area = %f\n",l,area);
}
```

*const常量有数据类型，编译系统将对其进行语法检查*

***const常量必须使用初始化的方式，即在定义时就赋值，否则会报错***

## 整型数据的处理

+ 标准输入/输出头文件

`#include <stdio.h>`

+ 整型数据的输出

`printf("格式控制字符串",输出项列表);`

`printf("%d",a)`

| 格式说明符 | 说明                      |
| :--------: | ------------------------- |
|    `%d`    | 基本整型int，十进制数输出 |
|    `%o`    | 基本整型int，八进制数输出 |
|    `%x`    | 基本整型int，十六进制输出 |
|    `%u`    | 基本整型int，无符号输出   |

```c
int main()
{
    int a = 2,b = 10;
    printf("%d %d\n",a,b);
    printf("%o %o\n",a,b);
    printf("%x %x\n",a,b);
    printf("%u %u\n",a,b);
    return 0;
}
```

注意：
```c
int main()
{
    int a = 2,b = -10;
    printf("%d %d\n",a,b);
    printf("%o %o\n",a,b);
    printf("%x %x\n",a,b);
    printf("%u %u\n",a,b);
    return 0;
}
```

`b = -10`时，无符号表示的数字为`4,294,967,296 - 10`，即`4,294,967,286`

### *复杂输出

【例3.8】短整型、基本整型和长整型的输出示例。

```c
#include <stdio.h>

void main()
{
    int a = 456,b = 123, c = -123;
    long int la = 789;
    printf("%d,%ld\n",a,la);
    printf("%10d,%10ld\n",a,la);//每个输出域宽为10列
    printf("%-10d,%-10ld\n",a,la);//每个输入域宽为10列，左对齐
    printf("%010d,%010ld\n",a,la);//每个输出域宽为10列，右对齐，空白处补0
    printf("%d,%o,%x\n",b,b,b);//输出十进制数、八进制数、十六进制数
}
```

输出结果：

```
456,789

       456,       789
0000000456,0000000789
123,173,7b
```

## 整型数据

输入函数scanf()通过键盘为变量输入数据

`scanf("格式控制字符串",输入项地址列表);`

|  格式说明符  | 格式               |
| :----------: | ------------------ |
|  `%d`或`%i`  | 有符号十进制整型   |
| `%ld`或`%Ld` | 有符号十进制长整型 |
|     `%o`     | 八进制整型         |
| `%lx`或`%Lx` | 十六进制长整型     |

